{"ast":null,"code":"import _asyncToGenerator from \"D:/clase/Master/Internet/angular/polaflix-mario/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class UsuarioService {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.usuarioUrl = 'http://localhost:8080/usuario/' + window.location.href.split(\"/\")[4];\n    this.usuario = {};\n  }\n\n  find() {\n    return this.http.get(this.usuarioUrl);\n  }\n\n  anhadirSeriePendiente(usuario, serie) {\n    var putUrl = 'http://localhost:8080/agregarSerie/usuario/' + usuario + '/serie/' + serie;\n    var headers = new HttpHeaders({\n      'content-type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    });\n    var body = JSON.stringify(null);\n    return this.http.put(putUrl, body, {\n      'headers': headers\n    });\n  }\n\n  verCapitulo(usuario, serie, temporada, capitulo) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var putUrl = 'http://localhost:8080/verSerie/' + serie + '/usuario/' + usuario + '/temporada/' + temporada + '/capitulo/' + capitulo;\n      var headers = new HttpHeaders({\n        'content-type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      });\n      var body = JSON.stringify(null);\n      console.log(putUrl);\n      return _this.http.put(putUrl, body, {\n        'headers': headers\n      });\n    })();\n  }\n\n}\n\nUsuarioService.ɵfac = function UsuarioService_Factory(t) {\n  return new (t || UsuarioService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n};\n\nUsuarioService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UsuarioService,\n  factory: UsuarioService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["D:\\clase\\Master\\Internet\\angular\\polaflix-mario\\src\\app\\usuario-service.service.ts"],"names":[],"mappings":";AAGA,SAAqB,WAArB,QAAwC,sBAAxC;;;;AAMA,OAAM,MAAO,cAAP,CAAqB;AAIzB,EAAA,WAAA,CAAoB,IAApB,EAA8C,MAA9C,EAA4D;AAAxC,SAAA,IAAA,GAAA,IAAA;AAA0B,SAAA,MAAA,GAAA,MAAA;AAC5C,SAAK,UAAL,GAAkB,mCAClB,MAAM,CAAC,QAAP,CAAgB,IAAhB,CAAqB,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CADA;AAEA,SAAK,OAAL,GAAe,EAAf;AACD;;AAEM,EAAA,IAAI,GAAA;AACT,WAAO,KAAK,IAAL,CAAU,GAAV,CAAuB,KAAK,UAA5B,CAAP;AACD;;AAEM,EAAA,qBAAqB,CAAC,OAAD,EAAc,KAAd,EAAuB;AACjD,QAAI,MAAM,GAAG,gDAA8C,OAA9C,GAAsD,SAAtD,GAAgE,KAA7E;AACA,QAAI,OAAO,GAAG,IAAI,WAAJ,CAAgB;AAAE,sBAAgB,kBAAlB;AACd,qCAA+B;AADjB,KAAhB,CAAd;AAEA,QAAI,IAAI,GAAC,IAAI,CAAC,SAAL,CAAe,IAAf,CAAT;AACA,WAAO,KAAK,IAAL,CAAU,GAAV,CAAuB,MAAvB,EAA+B,IAA/B,EAAoC;AAAC,iBAAU;AAAX,KAApC,CAAP;AACD;;AAEY,EAAA,WAAW,CAAC,OAAD,EAAc,KAAd,EAAyB,SAAzB,EAAwC,QAAxC,EAAoD;AAAA;;AAAA;AAC1E,UAAI,MAAM,GAAG,oCAAkC,KAAlC,GAAwC,WAAxC,GAAoD,OAApD,GAA4D,aAA5D,GAA0E,SAA1E,GAAoF,YAApF,GAAiG,QAA9G;AACA,UAAI,OAAO,GAAG,IAAI,WAAJ,CAAgB;AAAE,wBAAgB,kBAAlB;AACd,uCAA+B;AADjB,OAAhB,CAAd;AAEA,UAAI,IAAI,GAAC,IAAI,CAAC,SAAL,CAAe,IAAf,CAAT;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;AAEA,aAAO,KAAI,CAAC,IAAL,CAAU,GAAV,CAAuB,MAAvB,EAA+B,IAA/B,EAAoC;AAAC,mBAAU;AAAX,OAApC,CAAP;AAP0E;AAQ3E;;AA9BwB;;;mBAAd,c,EAAc,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,UAAA,C,EAAA,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,MAAA,C;AAAA,C;;;SAAd,c;AAAc,EAAA,OAAA,EAAd,cAAc,CAAA,I;AAAA,EAAA,UAAA,EAFb","sourcesContent":["import { Injectable, OnDestroy } from '@angular/core';\nimport { Usuario } from './usuario';\nimport { Observable } from 'rxjs/Observable';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsuarioService{\n  public usuario : Partial<Usuario>;\n  private usuarioUrl: string;\n\n  constructor(private http: HttpClient, private router: Router) {\n    this.usuarioUrl = 'http://localhost:8080/usuario/'+\n    window.location.href.split(\"/\")[4];\n    this.usuario = {};\n  }\n\n  public find(): Observable<Usuario> {\n    return this.http.get<Usuario>(this.usuarioUrl);\n  }\n\n  public anhadirSeriePendiente(usuario:any, serie:any): Observable<Usuario>{\n    var putUrl = 'http://localhost:8080/agregarSerie/usuario/'+usuario+'/serie/'+serie;\n    var headers = new HttpHeaders({ 'content-type': 'application/json',\n                    'Access-Control-Allow-Origin': '*'})\n    var body=JSON.stringify(null);\n    return this.http.put<Usuario>(putUrl, body,{'headers':headers})\n  }\n\n  async public verCapitulo(usuario:any, serie:any, temporada:any, capitulo:any): Observable<Usuario>{\n    var putUrl = 'http://localhost:8080/verSerie/'+serie+'/usuario/'+usuario+'/temporada/'+temporada+'/capitulo/'+capitulo;\n    var headers = new HttpHeaders({ 'content-type': 'application/json',\n                    'Access-Control-Allow-Origin': '*'})\n    var body=JSON.stringify(null);\n    console.log(putUrl);\n\n    return this.http.put<Usuario>(putUrl, body,{'headers':headers});\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}